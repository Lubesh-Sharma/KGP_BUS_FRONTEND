{"ast":null,"code":"var _jsxFileName = \"/home/lubesh/Desktop/DBMS/KGP_Bus/frontend/src/components/admin/UserLocations.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport axios from 'axios';\nimport L from 'leaflet';\nimport api, { getApiUrl } from '../../utils/api2.js';\n\n// Fix for default marker icon in Leaflet with React\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png'\n});\n\n// Create different icons for different user types\nconst createIcon = userType => {\n  const iconUrl = userType === 'driver' ? 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png' : userType === 'admin' ? 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png' : 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png';\n  return L.icon({\n    iconUrl,\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n    iconSize: [25, 41],\n    iconAnchor: [12, 41],\n    popupAnchor: [1, -34],\n    shadowSize: [41, 41]\n  });\n};\nfunction UserLocations({\n  user\n}) {\n  _s();\n  const [locations, setLocations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [filterText, setFilterText] = useState('');\n  const [mapCenter, setMapCenter] = useState([22.3190, 87.3091]); // Default IIT KGP coordinates\n  const mapRef = useRef(null);\n  const fetchUserLocations = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const response = await axios.get(getApiUrl(api.endpoints.adminUserLocations), {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n      if (response.data) {\n        console.log('User locations loaded:', response.data.length);\n        setLocations(response.data);\n        if (response.data.length > 0 && mapRef.current) {\n          // Center map on first location\n          const firstLocation = response.data[0];\n          setMapCenter([firstLocation.coordinates.latitude, firstLocation.coordinates.longitude]);\n        }\n      }\n    } catch (err) {\n      setError('Failed to fetch user locations: ' + err.message);\n      console.error('Error fetching user locations:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Initial fetch\n  useEffect(() => {\n    fetchUserLocations();\n\n    // Set up refresh interval - refresh every 30 seconds\n    const interval = setInterval(fetchUserLocations, 30000);\n\n    // Clean up interval on unmount\n    return () => {\n      if (interval) {\n        clearInterval(interval);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user.token]);\n\n  // Filter locations based on search text\n  const filteredLocations = locations.filter(location => {\n    var _location$username, _location$fullName, _location$type;\n    const searchText = filterText.toLowerCase();\n    return ((_location$username = location.username) === null || _location$username === void 0 ? void 0 : _location$username.toLowerCase().includes(searchText)) || ((_location$fullName = location.fullName) === null || _location$fullName === void 0 ? void 0 : _location$fullName.toLowerCase().includes(searchText)) || ((_location$type = location.type) === null || _location$type === void 0 ? void 0 : _location$type.toLowerCase().includes(searchText));\n  });\n\n  // Calculate user type statistics\n  const userCounts = {\n    total: filteredLocations.length,\n    drivers: filteredLocations.filter(loc => loc.type === 'driver').length,\n    users: filteredLocations.filter(loc => loc.type === 'user').length,\n    admins: filteredLocations.filter(loc => loc.type === 'admin').length\n  };\n  if (loading && locations.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading user locations...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-locations\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User Location Tracking\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-buttons\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchUserLocations,\n        disabled: loading,\n        className: \"refresh-button\",\n        children: loading ? 'Refreshing...' : 'Refresh Data'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-container\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Filter by name, email or type...\",\n        value: filterText,\n        onChange: e => setFilterText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          children: userCounts.total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"Total Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          children: userCounts.drivers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"Drivers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          children: userCounts.users\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"Passengers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-value\",\n          children: userCounts.admins\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-label\",\n          children: \"Admins\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-container\",\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: mapCenter,\n        zoom: 15,\n        style: {\n          height: \"500px\",\n          width: \"100%\"\n        },\n        ref: mapRef,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), filteredLocations.map(location => /*#__PURE__*/_jsxDEV(Marker, {\n          position: [location.coordinates.latitude, location.coordinates.longitude],\n          icon: createIcon(location.type),\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: location.fullName || location.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 76\n              }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n                children: [\"Type: \", location.type]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 49\n              }, this), \"Last seen: \", new Date(location.timestamp).toLocaleString(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 77\n              }, this), \"Coordinates: \", location.coordinates.latitude.toFixed(6), \", \", location.coordinates.longitude.toFixed(6)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)\n        }, location._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"users-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"User Location Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), filteredLocations.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No user locations found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Last Updated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Coordinates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: filteredLocations.map(location => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: location.fullName || location.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: location.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: new Date(location.timestamp).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [location.coordinates.latitude.toFixed(6), \", \", location.coordinates.longitude.toFixed(6)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 19\n            }, this)]\n          }, location._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(UserLocations, \"YJ+0Zl9gliZUWNs00nuo5BimZ+8=\");\n_c = UserLocations;\nexport default UserLocations;\nvar _c;\n$RefreshReg$(_c, \"UserLocations\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MapContainer","TileLayer","Marker","Popup","axios","L","api","getApiUrl","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","createIcon","userType","icon","iconSize","iconAnchor","popupAnchor","shadowSize","UserLocations","user","_s","locations","setLocations","loading","setLoading","error","setError","filterText","setFilterText","mapCenter","setMapCenter","mapRef","fetchUserLocations","response","get","endpoints","adminUserLocations","headers","Authorization","token","data","console","log","length","current","firstLocation","coordinates","latitude","longitude","err","message","interval","setInterval","clearInterval","filteredLocations","filter","location","_location$username","_location$fullName","_location$type","searchText","toLowerCase","username","includes","fullName","type","userCounts","total","drivers","loc","users","admins","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","disabled","placeholder","value","onChange","e","target","center","zoom","style","height","width","ref","attribution","url","map","position","Date","timestamp","toLocaleString","toFixed","_id","_c","$RefreshReg$"],"sources":["/home/lubesh/Desktop/DBMS/KGP_Bus/frontend/src/components/admin/UserLocations.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport axios from 'axios';\r\nimport L from 'leaflet';\r\nimport api, { getApiUrl } from '../../utils/api2.js';\r\n\r\n// Fix for default marker icon in Leaflet with React\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png',\r\n  iconUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png',\r\n  shadowUrl: 'https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png',\r\n});\r\n\r\n// Create different icons for different user types\r\nconst createIcon = (userType) => {\r\n  const iconUrl = userType === 'driver' ? \r\n    'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png' : \r\n    userType === 'admin' ?\r\n    'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png' :\r\n    'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png';\r\n  \r\n  return L.icon({\r\n    iconUrl,\r\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n  });\r\n};\r\n\r\nfunction UserLocations({ user }) {\r\n  const [locations, setLocations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [filterText, setFilterText] = useState('');\r\n  const [mapCenter, setMapCenter] = useState([22.3190, 87.3091]); // Default IIT KGP coordinates\r\n  const mapRef = useRef(null);\r\n  \r\n  const fetchUserLocations = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      \r\n      const response = await axios.get(\r\n        getApiUrl(api.endpoints.adminUserLocations),\r\n        { headers: { Authorization: `Bearer ${user.token}` } }\r\n      );\r\n      \r\n      if (response.data) {\r\n        console.log('User locations loaded:', response.data.length);\r\n        setLocations(response.data);\r\n        \r\n        if (response.data.length > 0 && mapRef.current) {\r\n          // Center map on first location\r\n          const firstLocation = response.data[0];\r\n          setMapCenter([\r\n            firstLocation.coordinates.latitude, \r\n            firstLocation.coordinates.longitude\r\n          ]);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to fetch user locations: ' + err.message);\r\n      console.error('Error fetching user locations:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Initial fetch\r\n  useEffect(() => {\r\n    fetchUserLocations();\r\n    \r\n    // Set up refresh interval - refresh every 30 seconds\r\n    const interval = setInterval(fetchUserLocations, 30000);\r\n    \r\n    // Clean up interval on unmount\r\n    return () => {\r\n      if (interval) {\r\n        clearInterval(interval);\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user.token]); \r\n  \r\n  // Filter locations based on search text\r\n  const filteredLocations = locations.filter(location => {\r\n    const searchText = filterText.toLowerCase();\r\n    return (\r\n      location.username?.toLowerCase().includes(searchText) ||\r\n      location.fullName?.toLowerCase().includes(searchText) ||\r\n      location.type?.toLowerCase().includes(searchText)\r\n    );\r\n  });\r\n  \r\n  // Calculate user type statistics\r\n  const userCounts = {\r\n    total: filteredLocations.length,\r\n    drivers: filteredLocations.filter(loc => loc.type === 'driver').length,\r\n    users: filteredLocations.filter(loc => loc.type === 'user').length,\r\n    admins: filteredLocations.filter(loc => loc.type === 'admin').length\r\n  };\r\n  \r\n  if (loading && locations.length === 0) {\r\n    return <div>Loading user locations...</div>;\r\n  }\r\n  \r\n  return (\r\n    <div className=\"user-locations\">\r\n      <h2>User Location Tracking</h2>\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n      \r\n      <div className=\"action-buttons\">\r\n        <button onClick={fetchUserLocations} disabled={loading} className=\"refresh-button\">\r\n          {loading ? 'Refreshing...' : 'Refresh Data'}\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"filter-container\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Filter by name, email or type...\"\r\n          value={filterText}\r\n          onChange={e => setFilterText(e.target.value)}\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"user-stats\">\r\n        <div className=\"stat-box\">\r\n          <span className=\"stat-value\">{userCounts.total}</span>\r\n          <span className=\"stat-label\">Total Users</span>\r\n        </div>\r\n        <div className=\"stat-box\">\r\n          <span className=\"stat-value\">{userCounts.drivers}</span>\r\n          <span className=\"stat-label\">Drivers</span>\r\n        </div>\r\n        <div className=\"stat-box\">\r\n          <span className=\"stat-value\">{userCounts.users}</span>\r\n          <span className=\"stat-label\">Passengers</span>\r\n        </div>\r\n        <div className=\"stat-box\">\r\n          <span className=\"stat-value\">{userCounts.admins}</span>\r\n          <span className=\"stat-label\">Admins</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"map-container\">\r\n        <MapContainer\r\n          center={mapCenter}\r\n          zoom={15}\r\n          style={{ height: \"500px\", width: \"100%\" }}\r\n          ref={mapRef}\r\n        >\r\n          <TileLayer\r\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          \r\n          {filteredLocations.map(location => (\r\n            <Marker\r\n              key={location._id}\r\n              position={[\r\n                location.coordinates.latitude,\r\n                location.coordinates.longitude\r\n              ]}\r\n              icon={createIcon(location.type)}\r\n            >\r\n              <Popup>\r\n                <div>\r\n                  <strong>{location.fullName || location.username}</strong><br />\r\n                  <em>Type: {location.type}</em><br />\r\n                  Last seen: {new Date(location.timestamp).toLocaleString()}<br />\r\n                  Coordinates: {location.coordinates.latitude.toFixed(6)}, {location.coordinates.longitude.toFixed(6)}\r\n                </div>\r\n              </Popup>\r\n            </Marker>\r\n          ))}\r\n        </MapContainer>\r\n      </div>\r\n      \r\n      <div className=\"users-table\">\r\n        <h3>User Location Details</h3>\r\n        {filteredLocations.length === 0 ? (\r\n          <p>No user locations found.</p>\r\n        ) : (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Username</th>\r\n                <th>Type</th>\r\n                <th>Last Updated</th>\r\n                <th>Coordinates</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredLocations.map(location => (\r\n                <tr key={location._id}>\r\n                  <td>{location.fullName || location.username}</td>\r\n                  <td>{location.type}</td>\r\n                  <td>{new Date(location.timestamp).toLocaleString()}</td>\r\n                  <td>\r\n                    {location.coordinates.latitude.toFixed(6)}, {location.coordinates.longitude.toFixed(6)}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserLocations;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,QAAQ,eAAe;AACtE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAOC,GAAG,IAAIC,SAAS,QAAQ,qBAAqB;;AAEpD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOJ,CAAC,CAACK,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CR,CAAC,CAACK,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAE,gEAAgE;EAC/EC,OAAO,EAAE,6DAA6D;EACtEC,SAAS,EAAE;AACb,CAAC,CAAC;;AAEF;AACA,MAAMC,UAAU,GAAIC,QAAQ,IAAK;EAC/B,MAAMH,OAAO,GAAGG,QAAQ,KAAK,QAAQ,GACnC,mGAAmG,GACnGA,QAAQ,KAAK,OAAO,GACpB,oGAAoG,GACpG,oGAAoG;EAEtG,OAAOd,CAAC,CAACe,IAAI,CAAC;IACZJ,OAAO;IACPC,SAAS,EAAE,+EAA+E;IAC1FI,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;IAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;IACpBC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;IACrBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE;EACrB,CAAC,CAAC;AACJ,CAAC;AAED,SAASC,aAAaA,CAAC;EAAEC;AAAK,CAAC,EAAE;EAAAC,EAAA;EAC/B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACiC,OAAO,EAAEC,UAAU,CAAC,GAAGlC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACmC,KAAK,EAAEC,QAAQ,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqC,UAAU,EAAEC,aAAa,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACuC,SAAS,EAAEC,YAAY,CAAC,GAAGxC,QAAQ,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;EAChE,MAAMyC,MAAM,GAAGvC,MAAM,CAAC,IAAI,CAAC;EAE3B,MAAMwC,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACFR,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,EAAE,CAAC;MAEZ,MAAMO,QAAQ,GAAG,MAAMpC,KAAK,CAACqC,GAAG,CAC9BlC,SAAS,CAACD,GAAG,CAACoC,SAAS,CAACC,kBAAkB,CAAC,EAC3C;QAAEC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUnB,IAAI,CAACoB,KAAK;QAAG;MAAE,CACvD,CAAC;MAED,IAAIN,QAAQ,CAACO,IAAI,EAAE;QACjBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAET,QAAQ,CAACO,IAAI,CAACG,MAAM,CAAC;QAC3DrB,YAAY,CAACW,QAAQ,CAACO,IAAI,CAAC;QAE3B,IAAIP,QAAQ,CAACO,IAAI,CAACG,MAAM,GAAG,CAAC,IAAIZ,MAAM,CAACa,OAAO,EAAE;UAC9C;UACA,MAAMC,aAAa,GAAGZ,QAAQ,CAACO,IAAI,CAAC,CAAC,CAAC;UACtCV,YAAY,CAAC,CACXe,aAAa,CAACC,WAAW,CAACC,QAAQ,EAClCF,aAAa,CAACC,WAAW,CAACE,SAAS,CACpC,CAAC;QACJ;MACF;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZvB,QAAQ,CAAC,kCAAkC,GAAGuB,GAAG,CAACC,OAAO,CAAC;MAC1DT,OAAO,CAAChB,KAAK,CAAC,gCAAgC,EAAEwB,GAAG,CAAC;IACtD,CAAC,SAAS;MACRzB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACAjC,SAAS,CAAC,MAAM;IACdyC,kBAAkB,CAAC,CAAC;;IAEpB;IACA,MAAMmB,QAAQ,GAAGC,WAAW,CAACpB,kBAAkB,EAAE,KAAK,CAAC;;IAEvD;IACA,OAAO,MAAM;MACX,IAAImB,QAAQ,EAAE;QACZE,aAAa,CAACF,QAAQ,CAAC;MACzB;IACF,CAAC;IACD;EACF,CAAC,EAAE,CAAChC,IAAI,CAACoB,KAAK,CAAC,CAAC;;EAEhB;EACA,MAAMe,iBAAiB,GAAGjC,SAAS,CAACkC,MAAM,CAACC,QAAQ,IAAI;IAAA,IAAAC,kBAAA,EAAAC,kBAAA,EAAAC,cAAA;IACrD,MAAMC,UAAU,GAAGjC,UAAU,CAACkC,WAAW,CAAC,CAAC;IAC3C,OACE,EAAAJ,kBAAA,GAAAD,QAAQ,CAACM,QAAQ,cAAAL,kBAAA,uBAAjBA,kBAAA,CAAmBI,WAAW,CAAC,CAAC,CAACE,QAAQ,CAACH,UAAU,CAAC,OAAAF,kBAAA,GACrDF,QAAQ,CAACQ,QAAQ,cAAAN,kBAAA,uBAAjBA,kBAAA,CAAmBG,WAAW,CAAC,CAAC,CAACE,QAAQ,CAACH,UAAU,CAAC,OAAAD,cAAA,GACrDH,QAAQ,CAACS,IAAI,cAAAN,cAAA,uBAAbA,cAAA,CAAeE,WAAW,CAAC,CAAC,CAACE,QAAQ,CAACH,UAAU,CAAC;EAErD,CAAC,CAAC;;EAEF;EACA,MAAMM,UAAU,GAAG;IACjBC,KAAK,EAAEb,iBAAiB,CAACX,MAAM;IAC/ByB,OAAO,EAAEd,iBAAiB,CAACC,MAAM,CAACc,GAAG,IAAIA,GAAG,CAACJ,IAAI,KAAK,QAAQ,CAAC,CAACtB,MAAM;IACtE2B,KAAK,EAAEhB,iBAAiB,CAACC,MAAM,CAACc,GAAG,IAAIA,GAAG,CAACJ,IAAI,KAAK,MAAM,CAAC,CAACtB,MAAM;IAClE4B,MAAM,EAAEjB,iBAAiB,CAACC,MAAM,CAACc,GAAG,IAAIA,GAAG,CAACJ,IAAI,KAAK,OAAO,CAAC,CAACtB;EAChE,CAAC;EAED,IAAIpB,OAAO,IAAIF,SAAS,CAACsB,MAAM,KAAK,CAAC,EAAE;IACrC,oBAAOzC,OAAA;MAAAsE,QAAA,EAAK;IAAyB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC7C;EAEA,oBACE1E,OAAA;IAAK2E,SAAS,EAAC,gBAAgB;IAAAL,QAAA,gBAC7BtE,OAAA;MAAAsE,QAAA,EAAI;IAAsB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC9BnD,KAAK,iBAAIvB,OAAA;MAAK2E,SAAS,EAAC,eAAe;MAAAL,QAAA,EAAE/C;IAAK;MAAAgD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAEtD1E,OAAA;MAAK2E,SAAS,EAAC,gBAAgB;MAAAL,QAAA,eAC7BtE,OAAA;QAAQ4E,OAAO,EAAE9C,kBAAmB;QAAC+C,QAAQ,EAAExD,OAAQ;QAACsD,SAAS,EAAC,gBAAgB;QAAAL,QAAA,EAC/EjD,OAAO,GAAG,eAAe,GAAG;MAAc;QAAAkD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAEN1E,OAAA;MAAK2E,SAAS,EAAC,kBAAkB;MAAAL,QAAA,eAC/BtE,OAAA;QACE+D,IAAI,EAAC,MAAM;QACXe,WAAW,EAAC,kCAAkC;QAC9CC,KAAK,EAAEtD,UAAW;QAClBuD,QAAQ,EAAEC,CAAC,IAAIvD,aAAa,CAACuD,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAEN1E,OAAA;MAAK2E,SAAS,EAAC,YAAY;MAAAL,QAAA,gBACzBtE,OAAA;QAAK2E,SAAS,EAAC,UAAU;QAAAL,QAAA,gBACvBtE,OAAA;UAAM2E,SAAS,EAAC,YAAY;UAAAL,QAAA,EAAEN,UAAU,CAACC;QAAK;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtD1E,OAAA;UAAM2E,SAAS,EAAC,YAAY;UAAAL,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC,eACN1E,OAAA;QAAK2E,SAAS,EAAC,UAAU;QAAAL,QAAA,gBACvBtE,OAAA;UAAM2E,SAAS,EAAC,YAAY;UAAAL,QAAA,EAAEN,UAAU,CAACE;QAAO;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxD1E,OAAA;UAAM2E,SAAS,EAAC,YAAY;UAAAL,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC,eACN1E,OAAA;QAAK2E,SAAS,EAAC,UAAU;QAAAL,QAAA,gBACvBtE,OAAA;UAAM2E,SAAS,EAAC,YAAY;UAAAL,QAAA,EAAEN,UAAU,CAACI;QAAK;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtD1E,OAAA;UAAM2E,SAAS,EAAC,YAAY;UAAAL,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eACN1E,OAAA;QAAK2E,SAAS,EAAC,UAAU;QAAAL,QAAA,gBACvBtE,OAAA;UAAM2E,SAAS,EAAC,YAAY;UAAAL,QAAA,EAAEN,UAAU,CAACK;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACvD1E,OAAA;UAAM2E,SAAS,EAAC,YAAY;UAAAL,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN1E,OAAA;MAAK2E,SAAS,EAAC,eAAe;MAAAL,QAAA,eAC5BtE,OAAA,CAACT,YAAY;QACX4F,MAAM,EAAExD,SAAU;QAClByD,IAAI,EAAE,EAAG;QACTC,KAAK,EAAE;UAAEC,MAAM,EAAE,OAAO;UAAEC,KAAK,EAAE;QAAO,CAAE;QAC1CC,GAAG,EAAE3D,MAAO;QAAAyC,QAAA,gBAEZtE,OAAA,CAACR,SAAS;UACRiG,WAAW,EAAC,yFAAyF;UACrGC,GAAG,EAAC;QAAoD;UAAAnB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC,EAEDtB,iBAAiB,CAACuC,GAAG,CAACrC,QAAQ,iBAC7BtD,OAAA,CAACP,MAAM;UAELmG,QAAQ,EAAE,CACRtC,QAAQ,CAACV,WAAW,CAACC,QAAQ,EAC7BS,QAAQ,CAACV,WAAW,CAACE,SAAS,CAC9B;UACFnC,IAAI,EAAEF,UAAU,CAAC6C,QAAQ,CAACS,IAAI,CAAE;UAAAO,QAAA,eAEhCtE,OAAA,CAACN,KAAK;YAAA4E,QAAA,eACJtE,OAAA;cAAAsE,QAAA,gBACEtE,OAAA;gBAAAsE,QAAA,EAAShB,QAAQ,CAACQ,QAAQ,IAAIR,QAAQ,CAACM;cAAQ;gBAAAW,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAS,CAAC,eAAA1E,OAAA;gBAAAuE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC/D1E,OAAA;gBAAAsE,QAAA,GAAI,QAAM,EAAChB,QAAQ,CAACS,IAAI;cAAA;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAAA1E,OAAA;gBAAAuE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACzB,EAAC,IAAImB,IAAI,CAACvC,QAAQ,CAACwC,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,eAAC/F,OAAA;gBAAAuE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,iBACnD,EAACpB,QAAQ,CAACV,WAAW,CAACC,QAAQ,CAACmD,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE,EAAC1C,QAAQ,CAACV,WAAW,CAACE,SAAS,CAACkD,OAAO,CAAC,CAAC,CAAC;YAAA;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChG;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD;QAAC,GAdHpB,QAAQ,CAAC2C,GAAG;UAAA1B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAeX,CACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACU;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC,eAEN1E,OAAA;MAAK2E,SAAS,EAAC,aAAa;MAAAL,QAAA,gBAC1BtE,OAAA;QAAAsE,QAAA,EAAI;MAAqB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC7BtB,iBAAiB,CAACX,MAAM,KAAK,CAAC,gBAC7BzC,OAAA;QAAAsE,QAAA,EAAG;MAAwB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAE/B1E,OAAA;QAAAsE,QAAA,gBACEtE,OAAA;UAAAsE,QAAA,eACEtE,OAAA;YAAAsE,QAAA,gBACEtE,OAAA;cAAAsE,QAAA,EAAI;YAAQ;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACjB1E,OAAA;cAAAsE,QAAA,EAAI;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACb1E,OAAA;cAAAsE,QAAA,EAAI;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACrB1E,OAAA;cAAAsE,QAAA,EAAI;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACR1E,OAAA;UAAAsE,QAAA,EACGlB,iBAAiB,CAACuC,GAAG,CAACrC,QAAQ,iBAC7BtD,OAAA;YAAAsE,QAAA,gBACEtE,OAAA;cAAAsE,QAAA,EAAKhB,QAAQ,CAACQ,QAAQ,IAAIR,QAAQ,CAACM;YAAQ;cAAAW,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACjD1E,OAAA;cAAAsE,QAAA,EAAKhB,QAAQ,CAACS;YAAI;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACxB1E,OAAA;cAAAsE,QAAA,EAAK,IAAIuB,IAAI,CAACvC,QAAQ,CAACwC,SAAS,CAAC,CAACC,cAAc,CAAC;YAAC;cAAAxB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACxD1E,OAAA;cAAAsE,QAAA,GACGhB,QAAQ,CAACV,WAAW,CAACC,QAAQ,CAACmD,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE,EAAC1C,QAAQ,CAACV,WAAW,CAACE,SAAS,CAACkD,OAAO,CAAC,CAAC,CAAC;YAAA;cAAAzB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpF,CAAC;UAAA,GANEpB,QAAQ,CAAC2C,GAAG;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAOjB,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACxD,EAAA,CArLQF,aAAa;AAAAkF,EAAA,GAAblF,aAAa;AAuLtB,eAAeA,aAAa;AAAC,IAAAkF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}