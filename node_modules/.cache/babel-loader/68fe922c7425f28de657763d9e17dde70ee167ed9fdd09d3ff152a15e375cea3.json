{"ast":null,"code":"var _jsxFileName = \"/home/lubesh/Desktop/DBMS/KGP_Bus/frontend/src/components/user_pages/BusStopsView.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport api from '../../utils/api.js';\nimport '../../css/busStopsView.css';\n\n// Fix for default marker icons in Leaflet\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\n\n// Custom icons for bus stops\nconst busStopIcon = new L.Icon({\n  iconUrl: 'https://cdn-icons-png.flaticon.com/512/1165/1165895.png',\n  iconSize: [32, 32],\n  iconAnchor: [16, 32],\n  popupAnchor: [0, -32]\n});\n\n// Component to handle location and center changes\nfunction LocationMarker() {\n  _s();\n  const [position, setPosition] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const map = useMap();\n  useEffect(() => {\n    map.locate({\n      setView: true,\n      maxZoom: 16\n    });\n    map.on('locationfound', e => {\n      setPosition(e.latlng);\n      setIsLoading(false);\n      map.flyTo(e.latlng, 16);\n    });\n    map.on('locationerror', e => {\n      console.log(\"Location error:\", e.message);\n      setIsLoading(false);\n      // Default to a location (e.g., KGP campus) if geolocation fails\n      setPosition([22.3149, 87.3104]); // IIT Kharagpur coordinates\n      map.flyTo([22.3149, 87.3104], 14);\n    });\n  }, [map]);\n  return position === null ? null : /*#__PURE__*/_jsxDEV(Marker, {\n    position: position,\n    children: /*#__PURE__*/_jsxDEV(Popup, {\n      children: \"You are here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n// MapController component to adjust map view when bus stops change\n_s(LocationMarker, \"SP7+8g8PPuHOWGsTweE1HXG+yuY=\", false, function () {\n  return [useMap];\n});\n_c = LocationMarker;\nconst MapController = ({\n  busStops\n}) => {\n  _s2();\n  const map = useMap();\n  useEffect(() => {\n    if (busStops && busStops.length > 0) {\n      console.log(`MapController: Adjusting map for ${busStops.length} bus stops`);\n\n      // Create bounds to fit all bus stops\n      const bounds = L.latLngBounds([]);\n      busStops.forEach(stop => {\n        if (stop.latitude && stop.longitude) {\n          bounds.extend([parseFloat(stop.latitude), parseFloat(stop.longitude)]);\n        }\n      });\n\n      // Only fit bounds if we have valid coordinates\n      if (bounds.isValid()) {\n        map.fitBounds(bounds, {\n          padding: [50, 50]\n        });\n      }\n    }\n  }, [busStops, map]);\n  return null; // This component doesn't render anything\n};\n\n// Separate component for bus stop markers to ensure proper rendering\n_s2(MapController, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c2 = MapController;\nconst BusStopMarkers = ({\n  busStops\n}) => {\n  console.log(`BusStopMarkers: Rendering ${busStops.length} markers`);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: busStops.map((stop, index) => {\n      // Skip invalid coordinates\n      if (!stop.latitude || !stop.longitude) {\n        return null;\n      }\n      const position = [parseFloat(stop.latitude), parseFloat(stop.longitude)];\n\n      // Validate coordinates\n      if (isNaN(position[0]) || isNaN(position[1])) {\n        return null;\n      }\n      return /*#__PURE__*/_jsxDEV(Marker, {\n        position: position,\n        icon: busStopIcon,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bus-stop-popup\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: stop.name || `Bus Stop ${index + 1}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 36\n              }, this), \" \", stop.id || 'Unknown']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Coordinates:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 36\n              }, this), \" \", stop.latitude, \", \", stop.longitude]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 33\n            }, this), stop.created_at && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Added:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 40\n              }, this), \" \", new Date(stop.created_at).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this)\n      }, `bus-stop-${stop.id || index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false);\n};\n_c3 = BusStopMarkers;\nconst BusStopsView = ({\n  userLocation\n}) => {\n  _s3();\n  const [currentLocation, setCurrentLocation] = useState('');\n  const [destination, setDestination] = useState('');\n  const [mapCenter, setMapCenter] = useState(userLocation || [22.3149, 87.3104]); // Default to IIT KGP\n  const [mapZoom, setMapZoom] = useState(14);\n  const [busStops, setBusStops] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Fetch bus stops using the configured API utility\n  useEffect(() => {\n    const fetchBusStops = async () => {\n      try {\n        setIsLoading(true);\n        console.log('Fetching bus stops from API');\n        const response = await api.get('/bus_stops/getAllBusStops');\n\n        // Check the exact structure of the response\n        if (response.data && response.data.data) {\n          // Make sure we're getting an array\n          if (Array.isArray(response.data.data)) {\n            setBusStops(response.data.data);\n            console.log(`Loaded ${response.data.data.length} bus stops`);\n          } else {\n            console.error('Bus stops data is not an array:', response.data.data);\n            throw new Error('Bus stops data is not in expected array format');\n          }\n        } else {\n          console.error('Invalid API response format:', response.data);\n          throw new Error('Invalid API response format');\n        }\n      } catch (err) {\n        console.error('Error fetching bus stops:', err);\n        setError(`Failed to load bus stops: ${err.message}`);\n        setBusStops([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchBusStops();\n  }, []);\n\n  // Function to handle finding routes\n  const handleFindRoutes = () => {\n    console.log(\"Finding routes from\", currentLocation, \"to\", destination);\n    // This will be implemented later\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bus-stops-view\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"location-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Current Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: currentLocation,\n            onChange: e => setCurrentLocation(e.target.value),\n            placeholder: \"Enter your current location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Destination\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: destination,\n            onChange: e => setDestination(e.target.value),\n            placeholder: \"Where do you want to go?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"search-btn\",\n          onClick: handleFindRoutes,\n          children: \"Find Routes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bus-stops-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Bus Stops (\", busStops.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading bus stops from database...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 25\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this) : busStops.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No bus stops found in the database.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: busStops.map((stop, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: () => {\n              const position = [parseFloat(stop.latitude), parseFloat(stop.longitude)];\n              setMapCenter(position);\n              setMapZoom(17);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [index + 1, \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 37\n            }, this), \" \", stop.name || 'Unnamed Stop']\n          }, stop.id || index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-container\",\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: mapCenter,\n        zoom: mapZoom,\n        style: {\n          height: \"100%\",\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(LocationMarker, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MapController, {\n          busStops: busStops\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(BusStopMarkers, {\n          busStops: busStops\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 9\n  }, this);\n};\n_s3(BusStopsView, \"npuTUnQTI6ZN9H/j9f6I+tKJLwU=\");\n_c4 = BusStopsView;\nexport default BusStopsView;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"LocationMarker\");\n$RefreshReg$(_c2, \"MapController\");\n$RefreshReg$(_c3, \"BusStopMarkers\");\n$RefreshReg$(_c4, \"BusStopsView\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","useMap","L","api","jsxDEV","_jsxDEV","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","busStopIcon","iconSize","iconAnchor","popupAnchor","LocationMarker","_s","position","setPosition","isLoading","setIsLoading","map","locate","setView","maxZoom","on","e","latlng","flyTo","console","log","message","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","MapController","busStops","_s2","length","bounds","latLngBounds","forEach","stop","latitude","longitude","extend","parseFloat","isValid","fitBounds","padding","_c2","BusStopMarkers","index","isNaN","icon","className","name","id","created_at","Date","toLocaleString","_c3","BusStopsView","userLocation","_s3","currentLocation","setCurrentLocation","destination","setDestination","mapCenter","setMapCenter","mapZoom","setMapZoom","setBusStops","error","setError","fetchBusStops","response","get","data","Array","isArray","Error","err","handleFindRoutes","type","value","onChange","target","placeholder","onClick","center","zoom","style","height","width","attribution","url","_c4","$RefreshReg$"],"sources":["/home/lubesh/Desktop/DBMS/KGP_Bus/frontend/src/components/user_pages/BusStopsView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport api from '../../utils/api.js';\nimport '../../css/busStopsView.css';\n\n// Fix for default marker icons in Leaflet\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n    iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n    iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\n\n// Custom icons for bus stops\nconst busStopIcon = new L.Icon({\n    iconUrl: 'https://cdn-icons-png.flaticon.com/512/1165/1165895.png',\n    iconSize: [32, 32],\n    iconAnchor: [16, 32],\n    popupAnchor: [0, -32]\n});\n\n// Component to handle location and center changes\nfunction LocationMarker() {\n    const [position, setPosition] = useState(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const map = useMap();\n\n    useEffect(() => {\n        map.locate({ setView: true, maxZoom: 16 });\n        \n        map.on('locationfound', (e) => {\n            setPosition(e.latlng);\n            setIsLoading(false);\n            map.flyTo(e.latlng, 16);\n        });\n\n        map.on('locationerror', (e) => {\n            console.log(\"Location error:\", e.message);\n            setIsLoading(false);\n            // Default to a location (e.g., KGP campus) if geolocation fails\n            setPosition([22.3149, 87.3104]); // IIT Kharagpur coordinates\n            map.flyTo([22.3149, 87.3104], 14);\n        });\n    }, [map]);\n\n    return position === null ? null : (\n        <Marker position={position}>\n            <Popup>You are here</Popup>\n        </Marker>\n    );\n}\n\n// MapController component to adjust map view when bus stops change\nconst MapController = ({ busStops }) => {\n    const map = useMap();\n    \n    useEffect(() => {\n        if (busStops && busStops.length > 0) {\n            console.log(`MapController: Adjusting map for ${busStops.length} bus stops`);\n            \n            // Create bounds to fit all bus stops\n            const bounds = L.latLngBounds([]);\n            busStops.forEach(stop => {\n                if (stop.latitude && stop.longitude) {\n                    bounds.extend([parseFloat(stop.latitude), parseFloat(stop.longitude)]);\n                }\n            });\n            \n            // Only fit bounds if we have valid coordinates\n            if (bounds.isValid()) {\n                map.fitBounds(bounds, { padding: [50, 50] });\n            }\n        }\n    }, [busStops, map]);\n    \n    return null; // This component doesn't render anything\n};\n\n// Separate component for bus stop markers to ensure proper rendering\nconst BusStopMarkers = ({ busStops }) => {\n    console.log(`BusStopMarkers: Rendering ${busStops.length} markers`);\n    \n    return (\n        <>\n            {busStops.map((stop, index) => {\n                // Skip invalid coordinates\n                if (!stop.latitude || !stop.longitude) {\n                    return null;\n                }\n                \n                const position = [\n                    parseFloat(stop.latitude), \n                    parseFloat(stop.longitude)\n                ];\n                \n                // Validate coordinates\n                if (isNaN(position[0]) || isNaN(position[1])) {\n                    return null;\n                }\n                \n                return (\n                    <Marker \n                        key={`bus-stop-${stop.id || index}`}\n                        position={position}\n                        icon={busStopIcon}\n                    >\n                        <Popup>\n                            <div className=\"bus-stop-popup\">\n                                <h3>{stop.name || `Bus Stop ${index + 1}`}</h3>\n                                <p><strong>ID:</strong> {stop.id || 'Unknown'}</p>\n                                <p><strong>Coordinates:</strong> {stop.latitude}, {stop.longitude}</p>\n                                {stop.created_at && (\n                                    <p><strong>Added:</strong> {new Date(stop.created_at).toLocaleString()}</p>\n                                )}\n                            </div>\n                        </Popup>\n                    </Marker>\n                );\n            })}\n        </>\n    );\n};\n\nconst BusStopsView = ({ userLocation }) => {\n    const [currentLocation, setCurrentLocation] = useState('');\n    const [destination, setDestination] = useState('');\n    const [mapCenter, setMapCenter] = useState(userLocation || [22.3149, 87.3104]); // Default to IIT KGP\n    const [mapZoom, setMapZoom] = useState(14);\n    const [busStops, setBusStops] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    // Fetch bus stops using the configured API utility\n    useEffect(() => {\n        const fetchBusStops = async () => {\n            try {\n                setIsLoading(true);\n                console.log('Fetching bus stops from API');\n                \n                const response = await api.get('/bus_stops/getAllBusStops');\n                \n                // Check the exact structure of the response\n                if (response.data && response.data.data) {\n                    // Make sure we're getting an array\n                    if (Array.isArray(response.data.data)) {\n                        setBusStops(response.data.data);\n                        console.log(`Loaded ${response.data.data.length} bus stops`);\n                    } else {\n                        console.error('Bus stops data is not an array:', response.data.data);\n                        throw new Error('Bus stops data is not in expected array format');\n                    }\n                } else {\n                    console.error('Invalid API response format:', response.data);\n                    throw new Error('Invalid API response format');\n                }\n            } catch (err) {\n                console.error('Error fetching bus stops:', err);\n                setError(`Failed to load bus stops: ${err.message}`);\n                setBusStops([]);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        fetchBusStops();\n    }, []);\n\n    // Function to handle finding routes\n    const handleFindRoutes = () => {\n        console.log(\"Finding routes from\", currentLocation, \"to\", destination);\n        // This will be implemented later\n    };\n\n    return (\n        <div className=\"bus-stops-view\">\n            <div className=\"control-panel\">\n                <div className=\"location-form\">\n                    <div className=\"form-group\">\n                        <label>Current Location</label>\n                        <input \n                            type=\"text\" \n                            value={currentLocation}\n                            onChange={(e) => setCurrentLocation(e.target.value)}\n                            placeholder=\"Enter your current location\"\n                        />\n                    </div>\n                    \n                    <div className=\"form-group\">\n                        <label>Destination</label>\n                        <input \n                            type=\"text\" \n                            value={destination}\n                            onChange={(e) => setDestination(e.target.value)}\n                            placeholder=\"Where do you want to go?\"\n                        />\n                    </div>\n                    \n                    <button className=\"search-btn\" onClick={handleFindRoutes}>Find Routes</button>\n                </div>\n\n                <div className=\"bus-stops-list\">\n                    <h3>Bus Stops ({busStops.length})</h3>\n                    {isLoading ? (\n                        <p>Loading bus stops from database...</p>\n                    ) : error ? (\n                        <p className=\"error-message\">{error}</p>\n                    ) : busStops.length === 0 ? (\n                        <p>No bus stops found in the database.</p>\n                    ) : (\n                        <ul>\n                            {busStops.map((stop, index) => (\n                                <li key={stop.id || index} onClick={() => {\n                                    const position = [parseFloat(stop.latitude), parseFloat(stop.longitude)];\n                                    setMapCenter(position);\n                                    setMapZoom(17);\n                                }}>\n                                    <strong>{index + 1}.</strong> {stop.name || 'Unnamed Stop'} \n                                </li>\n                            ))}\n                        </ul>\n                    )}\n                </div>\n            </div>\n            \n            <div className=\"map-container\">\n                <MapContainer \n                    center={mapCenter} \n                    zoom={mapZoom} \n                    style={{ height: \"100%\", width: \"100%\" }}\n                >\n                    <TileLayer\n                        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <LocationMarker />\n                    <MapController busStops={busStops} />\n                    <BusStopMarkers busStops={busStops} />\n                </MapContainer>\n            </div>\n        </div>\n    );\n};\n\nexport default BusStopsView;\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,MAAM,QAAQ,eAAe;AAC9E,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;AACjC,OAAOC,GAAG,MAAM,oBAAoB;AACpC,OAAO,4BAA4B;;AAEnC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,OAAOL,CAAC,CAACM,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CT,CAAC,CAACM,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EACxBC,aAAa,EAAE,gFAAgF;EAC/FC,OAAO,EAAE,6EAA6E;EACtFC,SAAS,EAAE;AACf,CAAC,CAAC;;AAEF;AACA,MAAMC,WAAW,GAAG,IAAId,CAAC,CAACM,IAAI,CAAC;EAC3BM,OAAO,EAAE,yDAAyD;EAClEG,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;EACpBC,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;AACxB,CAAC,CAAC;;AAEF;AACA,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACtB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM+B,GAAG,GAAGzB,MAAM,CAAC,CAAC;EAEpBL,SAAS,CAAC,MAAM;IACZ8B,GAAG,CAACC,MAAM,CAAC;MAAEC,OAAO,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAG,CAAC,CAAC;IAE1CH,GAAG,CAACI,EAAE,CAAC,eAAe,EAAGC,CAAC,IAAK;MAC3BR,WAAW,CAACQ,CAAC,CAACC,MAAM,CAAC;MACrBP,YAAY,CAAC,KAAK,CAAC;MACnBC,GAAG,CAACO,KAAK,CAACF,CAAC,CAACC,MAAM,EAAE,EAAE,CAAC;IAC3B,CAAC,CAAC;IAEFN,GAAG,CAACI,EAAE,CAAC,eAAe,EAAGC,CAAC,IAAK;MAC3BG,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEJ,CAAC,CAACK,OAAO,CAAC;MACzCX,YAAY,CAAC,KAAK,CAAC;MACnB;MACAF,WAAW,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;MACjCG,GAAG,CAACO,KAAK,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,EAAE,CAAC;IACrC,CAAC,CAAC;EACN,CAAC,EAAE,CAACP,GAAG,CAAC,CAAC;EAET,OAAOJ,QAAQ,KAAK,IAAI,GAAG,IAAI,gBAC3BjB,OAAA,CAACN,MAAM;IAACuB,QAAQ,EAAEA,QAAS;IAAAe,QAAA,eACvBhC,OAAA,CAACL,KAAK;MAAAqC,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvB,CACX;AACL;;AAEA;AAAApB,EAAA,CA9BSD,cAAc;EAAA,QAGPnB,MAAM;AAAA;AAAAyC,EAAA,GAHbtB,cAAc;AA+BvB,MAAMuB,aAAa,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EACpC,MAAMnB,GAAG,GAAGzB,MAAM,CAAC,CAAC;EAEpBL,SAAS,CAAC,MAAM;IACZ,IAAIgD,QAAQ,IAAIA,QAAQ,CAACE,MAAM,GAAG,CAAC,EAAE;MACjCZ,OAAO,CAACC,GAAG,CAAC,oCAAoCS,QAAQ,CAACE,MAAM,YAAY,CAAC;;MAE5E;MACA,MAAMC,MAAM,GAAG7C,CAAC,CAAC8C,YAAY,CAAC,EAAE,CAAC;MACjCJ,QAAQ,CAACK,OAAO,CAACC,IAAI,IAAI;QACrB,IAAIA,IAAI,CAACC,QAAQ,IAAID,IAAI,CAACE,SAAS,EAAE;UACjCL,MAAM,CAACM,MAAM,CAAC,CAACC,UAAU,CAACJ,IAAI,CAACC,QAAQ,CAAC,EAAEG,UAAU,CAACJ,IAAI,CAACE,SAAS,CAAC,CAAC,CAAC;QAC1E;MACJ,CAAC,CAAC;;MAEF;MACA,IAAIL,MAAM,CAACQ,OAAO,CAAC,CAAC,EAAE;QAClB7B,GAAG,CAAC8B,SAAS,CAACT,MAAM,EAAE;UAAEU,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE;QAAE,CAAC,CAAC;MAChD;IACJ;EACJ,CAAC,EAAE,CAACb,QAAQ,EAAElB,GAAG,CAAC,CAAC;EAEnB,OAAO,IAAI,CAAC,CAAC;AACjB,CAAC;;AAED;AAAAmB,GAAA,CAzBMF,aAAa;EAAA,QACH1C,MAAM;AAAA;AAAAyD,GAAA,GADhBf,aAAa;AA0BnB,MAAMgB,cAAc,GAAGA,CAAC;EAAEf;AAAS,CAAC,KAAK;EACrCV,OAAO,CAACC,GAAG,CAAC,6BAA6BS,QAAQ,CAACE,MAAM,UAAU,CAAC;EAEnE,oBACIzC,OAAA,CAAAE,SAAA;IAAA8B,QAAA,EACKO,QAAQ,CAAClB,GAAG,CAAC,CAACwB,IAAI,EAAEU,KAAK,KAAK;MAC3B;MACA,IAAI,CAACV,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,SAAS,EAAE;QACnC,OAAO,IAAI;MACf;MAEA,MAAM9B,QAAQ,GAAG,CACbgC,UAAU,CAACJ,IAAI,CAACC,QAAQ,CAAC,EACzBG,UAAU,CAACJ,IAAI,CAACE,SAAS,CAAC,CAC7B;;MAED;MACA,IAAIS,KAAK,CAACvC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAIuC,KAAK,CAACvC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;QAC1C,OAAO,IAAI;MACf;MAEA,oBACIjB,OAAA,CAACN,MAAM;QAEHuB,QAAQ,EAAEA,QAAS;QACnBwC,IAAI,EAAE9C,WAAY;QAAAqB,QAAA,eAElBhC,OAAA,CAACL,KAAK;UAAAqC,QAAA,eACFhC,OAAA;YAAK0D,SAAS,EAAC,gBAAgB;YAAA1B,QAAA,gBAC3BhC,OAAA;cAAAgC,QAAA,EAAKa,IAAI,CAACc,IAAI,IAAI,YAAYJ,KAAK,GAAG,CAAC;YAAE;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC/CpC,OAAA;cAAAgC,QAAA,gBAAGhC,OAAA;gBAAAgC,QAAA,EAAQ;cAAG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACS,IAAI,CAACe,EAAE,IAAI,SAAS;YAAA;cAAA3B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClDpC,OAAA;cAAAgC,QAAA,gBAAGhC,OAAA;gBAAAgC,QAAA,EAAQ;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAACS,IAAI,CAACC,QAAQ,EAAC,IAAE,EAACD,IAAI,CAACE,SAAS;YAAA;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACrES,IAAI,CAACgB,UAAU,iBACZ7D,OAAA;cAAAgC,QAAA,gBAAGhC,OAAA;gBAAAgC,QAAA,EAAQ;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,KAAC,EAAC,IAAI0B,IAAI,CAACjB,IAAI,CAACgB,UAAU,CAAC,CAACE,cAAc,CAAC,CAAC;YAAA;cAAA9B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAC7E;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC,GAbH,YAAYS,IAAI,CAACe,EAAE,IAAIL,KAAK,EAAE;QAAAtB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAc/B,CAAC;IAEjB,CAAC;EAAC,gBACJ,CAAC;AAEX,CAAC;AAAC4B,GAAA,GA1CIV,cAAc;AA4CpB,MAAMW,YAAY,GAAGA,CAAC;EAAEC;AAAa,CAAC,KAAK;EAAAC,GAAA;EACvC,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAG/E,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACgF,WAAW,EAAEC,cAAc,CAAC,GAAGjF,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACkF,SAAS,EAAEC,YAAY,CAAC,GAAGnF,QAAQ,CAAC4E,YAAY,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;EAChF,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGrF,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACiD,QAAQ,EAAEqC,WAAW,CAAC,GAAGtF,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACuF,KAAK,EAAEC,QAAQ,CAAC,GAAGxF,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACAC,SAAS,CAAC,MAAM;IACZ,MAAMwF,aAAa,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACA3D,YAAY,CAAC,IAAI,CAAC;QAClBS,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;QAE1C,MAAMkD,QAAQ,GAAG,MAAMlF,GAAG,CAACmF,GAAG,CAAC,2BAA2B,CAAC;;QAE3D;QACA,IAAID,QAAQ,CAACE,IAAI,IAAIF,QAAQ,CAACE,IAAI,CAACA,IAAI,EAAE;UACrC;UACA,IAAIC,KAAK,CAACC,OAAO,CAACJ,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC,EAAE;YACnCN,WAAW,CAACI,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;YAC/BrD,OAAO,CAACC,GAAG,CAAC,UAAUkD,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACzC,MAAM,YAAY,CAAC;UAChE,CAAC,MAAM;YACHZ,OAAO,CAACgD,KAAK,CAAC,iCAAiC,EAAEG,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;YACpE,MAAM,IAAIG,KAAK,CAAC,gDAAgD,CAAC;UACrE;QACJ,CAAC,MAAM;UACHxD,OAAO,CAACgD,KAAK,CAAC,8BAA8B,EAAEG,QAAQ,CAACE,IAAI,CAAC;UAC5D,MAAM,IAAIG,KAAK,CAAC,6BAA6B,CAAC;QAClD;MACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;QACVzD,OAAO,CAACgD,KAAK,CAAC,2BAA2B,EAAES,GAAG,CAAC;QAC/CR,QAAQ,CAAC,6BAA6BQ,GAAG,CAACvD,OAAO,EAAE,CAAC;QACpD6C,WAAW,CAAC,EAAE,CAAC;MACnB,CAAC,SAAS;QACNxD,YAAY,CAAC,KAAK,CAAC;MACvB;IACJ,CAAC;IAED2D,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMQ,gBAAgB,GAAGA,CAAA,KAAM;IAC3B1D,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEsC,eAAe,EAAE,IAAI,EAAEE,WAAW,CAAC;IACtE;EACJ,CAAC;EAED,oBACItE,OAAA;IAAK0D,SAAS,EAAC,gBAAgB;IAAA1B,QAAA,gBAC3BhC,OAAA;MAAK0D,SAAS,EAAC,eAAe;MAAA1B,QAAA,gBAC1BhC,OAAA;QAAK0D,SAAS,EAAC,eAAe;QAAA1B,QAAA,gBAC1BhC,OAAA;UAAK0D,SAAS,EAAC,YAAY;UAAA1B,QAAA,gBACvBhC,OAAA;YAAAgC,QAAA,EAAO;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC/BpC,OAAA;YACIwF,IAAI,EAAC,MAAM;YACXC,KAAK,EAAErB,eAAgB;YACvBsB,QAAQ,EAAGhE,CAAC,IAAK2C,kBAAkB,CAAC3C,CAAC,CAACiE,MAAM,CAACF,KAAK,CAAE;YACpDG,WAAW,EAAC;UAA6B;YAAA3D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAENpC,OAAA;UAAK0D,SAAS,EAAC,YAAY;UAAA1B,QAAA,gBACvBhC,OAAA;YAAAgC,QAAA,EAAO;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1BpC,OAAA;YACIwF,IAAI,EAAC,MAAM;YACXC,KAAK,EAAEnB,WAAY;YACnBoB,QAAQ,EAAGhE,CAAC,IAAK6C,cAAc,CAAC7C,CAAC,CAACiE,MAAM,CAACF,KAAK,CAAE;YAChDG,WAAW,EAAC;UAA0B;YAAA3D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAENpC,OAAA;UAAQ0D,SAAS,EAAC,YAAY;UAACmC,OAAO,EAAEN,gBAAiB;UAAAvD,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7E,CAAC,eAENpC,OAAA;QAAK0D,SAAS,EAAC,gBAAgB;QAAA1B,QAAA,gBAC3BhC,OAAA;UAAAgC,QAAA,GAAI,aAAW,EAACO,QAAQ,CAACE,MAAM,EAAC,GAAC;QAAA;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACrCjB,SAAS,gBACNnB,OAAA;UAAAgC,QAAA,EAAG;QAAkC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,GACzCyC,KAAK,gBACL7E,OAAA;UAAG0D,SAAS,EAAC,eAAe;UAAA1B,QAAA,EAAE6C;QAAK;UAAA5C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,GACxCG,QAAQ,CAACE,MAAM,KAAK,CAAC,gBACrBzC,OAAA;UAAAgC,QAAA,EAAG;QAAmC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAE1CpC,OAAA;UAAAgC,QAAA,EACKO,QAAQ,CAAClB,GAAG,CAAC,CAACwB,IAAI,EAAEU,KAAK,kBACtBvD,OAAA;YAA2B6F,OAAO,EAAEA,CAAA,KAAM;cACtC,MAAM5E,QAAQ,GAAG,CAACgC,UAAU,CAACJ,IAAI,CAACC,QAAQ,CAAC,EAAEG,UAAU,CAACJ,IAAI,CAACE,SAAS,CAAC,CAAC;cACxE0B,YAAY,CAACxD,QAAQ,CAAC;cACtB0D,UAAU,CAAC,EAAE,CAAC;YAClB,CAAE;YAAA3C,QAAA,gBACEhC,OAAA;cAAAgC,QAAA,GAASuB,KAAK,GAAG,CAAC,EAAC,GAAC;YAAA;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACS,IAAI,CAACc,IAAI,IAAI,cAAc;UAAA,GALrDd,IAAI,CAACe,EAAE,IAAIL,KAAK;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAMrB,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CACP;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAENpC,OAAA;MAAK0D,SAAS,EAAC,eAAe;MAAA1B,QAAA,eAC1BhC,OAAA,CAACR,YAAY;QACTsG,MAAM,EAAEtB,SAAU;QAClBuB,IAAI,EAAErB,OAAQ;QACdsB,KAAK,EAAE;UAAEC,MAAM,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAO,CAAE;QAAAlE,QAAA,gBAEzChC,OAAA,CAACP,SAAS;UACN0G,WAAW,EAAC,yFAAyF;UACrGC,GAAG,EAAC;QAAoD;UAAAnE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3D,CAAC,eACFpC,OAAA,CAACe,cAAc;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAClBpC,OAAA,CAACsC,aAAa;UAACC,QAAQ,EAAEA;QAAS;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACrCpC,OAAA,CAACsD,cAAc;UAACf,QAAQ,EAAEA;QAAS;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACd,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAC+B,GAAA,CAtHIF,YAAY;AAAAoC,GAAA,GAAZpC,YAAY;AAwHlB,eAAeA,YAAY;AAAC,IAAA5B,EAAA,EAAAgB,GAAA,EAAAW,GAAA,EAAAqC,GAAA;AAAAC,YAAA,CAAAjE,EAAA;AAAAiE,YAAA,CAAAjD,GAAA;AAAAiD,YAAA,CAAAtC,GAAA;AAAAsC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}